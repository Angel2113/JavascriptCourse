const myModule=(()=>{"use strict";let e=[],l=["C","D","H","S"],t=["A","J","Q","K"],r=[],s=document.querySelector("#btnAsk"),n=document.querySelector("#btnNew"),a=document.querySelector("#btnStop"),d=document.querySelectorAll("small"),i=document.querySelectorAll(".divCards"),o=(l=1)=>{e=c(),r=[];for(let t=0;t<=l;t++)r.push(0);d.forEach(e=>e.innerText),i.forEach(e=>e.innerText),s.disabled=!1,a.disabled=!1},c=()=>{e=[];for(let r=2;r<=10;r++)for(let s of l)e.push(r+s);for(let n of l)for(let a of t)e.push(a+n);return _.shuffle(e)},u=()=>{if(0===e.length)throw"No more cards available";return e.pop()},$=e=>{let l=e.substring(0,e.length-1);return isNaN(l)?"A"===l?11:10:1*l},b=(e,l)=>{r[l]+=$(e),console.log(r[l]),d[l].innerText=r[l]},f=(e,l)=>{let t=document.createElement("img");t.src=`assets/cards/${e}.png`,t.className="card",i[l].append(t)},h=()=>{let[e,l]=r;setTimeout(()=>{l===e?alert("Tie!"):e>21?alert("Computer wins!"):l>21?alert("Player 1 wins!"):alert("Computer wins!")},100)},g=e=>{let l=0,t=r[0];do{l=r[r.length-1];let s=u();if(b(s,r.length-1),f(s,r.length-1),l>21)break}while(l<t);h()};return s.addEventListener("click",()=>{let e=u();b(e,0),f(e,0),r>21?(console.log("Player 1 lose"),s.disabled=!0,a.disabled=!0,g()):21===r&&(console.log("Player 1 wins"),s.disabled=!0,a.disabled=!0,g())}),a.addEventListener("click",()=>{s.disabled=!0,a.disabled=!0,g()}),n.addEventListener("click",()=>{o()}),{newGame:o}})();
